<!DOCTYPE html><html lang="en" data-astro-cid-4sn4zg3r> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Basic Python JSON REST API Client Example — timeline.523.life</title><meta name="description" content="Basic Python JSON REST API Client Example"><link rel="canonical" href="https://timeline.523.life/blog/Basic-JSON-Python-REST-Client"><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><style>.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}
:root{--bg: #0b0e13;--panel: #11161f;--text: #e7ecf3;--muted: #97a3b6;--accent: #6aa0ff}[data-astro-cid-4sn4zg3r]{box-sizing:border-box}html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica Neue,Arial,"Apple Color Emoji","Segoe UI Emoji"}main[data-astro-cid-4sn4zg3r]{max-width:720px;margin:0 auto;padding:24px}.header[data-astro-cid-4sn4zg3r]{margin-bottom:40px}.back-link[data-astro-cid-4sn4zg3r]{color:var(--accent);text-decoration:none;font-size:14px}.back-link[data-astro-cid-4sn4zg3r]:hover{text-decoration:underline}.meta[data-astro-cid-4sn4zg3r]{font-size:14px;color:var(--muted);margin:16px 0 8px}.type[data-astro-cid-4sn4zg3r]{text-transform:uppercase;letter-spacing:.06em;font-size:12px}h1[data-astro-cid-4sn4zg3r]{margin:8px 0 24px;font-size:32px;line-height:1.2}.content[data-astro-cid-4sn4zg3r]{margin:32px 0}.content[data-astro-cid-4sn4zg3r] img[data-astro-cid-4sn4zg3r]{max-width:100%;height:auto;border-radius:8px}.content[data-astro-cid-4sn4zg3r] p[data-astro-cid-4sn4zg3r]{margin:16px 0}.content[data-astro-cid-4sn4zg3r] pre[data-astro-cid-4sn4zg3r]{background:#1a1f2e;padding:16px;border-radius:8px;overflow-x:auto}.content[data-astro-cid-4sn4zg3r] code[data-astro-cid-4sn4zg3r]{font-family:Monaco,Courier New,monospace;font-size:14px}.content[data-astro-cid-4sn4zg3r] a[data-astro-cid-4sn4zg3r]{color:var(--accent)}.post-footer[data-astro-cid-4sn4zg3r]{margin-top:48px;padding-top:24px;border-top:1px solid #1f2937;display:flex;justify-content:space-between;flex-wrap:wrap;gap:16px}@media (max-width: 640px){h1[data-astro-cid-4sn4zg3r]{font-size:24px}main[data-astro-cid-4sn4zg3r]{padding:16px}}.comments-section[data-astro-cid-4sn4zg3r]{margin-top:48px;padding-top:24px;border-top:1px solid #1f2937}.giscus[data-astro-cid-4sn4zg3r]{margin-top:16px;position:relative}.giscus[data-astro-cid-4sn4zg3r] iframe[data-astro-cid-4sn4zg3r]{min-height:300px}
</style><script type="module" src="/_astro/hoisted.BScVxmeO.js"></script></head> <body data-astro-cid-4sn4zg3r> <main data-astro-cid-4sn4zg3r> <header class="header" data-astro-cid-4sn4zg3r> <nav data-astro-cid-4sn4zg3r> <a href="/" class="back-link" data-astro-cid-4sn4zg3r>← Back to timeline</a> </nav> <div class="meta" data-astro-cid-4sn4zg3r> <span class="type" data-astro-cid-4sn4zg3r>blog</span> · <time datetime="2012-07-24T00:00:00.000Z" data-astro-cid-4sn4zg3r>7/23/2012</time> </div> <h1 data-astro-cid-4sn4zg3r>Basic Python JSON REST API Client Example</h1> </header> <article class="content" data-astro-cid-4sn4zg3r><p>JSON REST API&#39;s are increasingly common and useful.</p>
<p>A basic client example for using something like <a href="https://github.com/zorkian/nagios-api">nagios api</a></p>
<pre><code class="language-Python">import sys
import os
import urllib
import json
import urllib2

class JSONRestClient(object):
    def __init__(self, remote):
        self.url = remote

    def _get(self, trail):
        getme = self.url + trail
        req = urllib2.Request(getme)
        return json.loads(urllib2.urlopen(req, timeout=120).read())

    def _post(self, trail, **kwargs):
        data = json.dumps(kwargs)
        req = urllib2.Request(self.url + trail, data, {&#39;Content-Type&#39;: &#39;application/json&#39;})
        f = urllib2.urlopen(req)
        response = f.read()
        f.close()
        return json.loads(response)

    def state(self):
        return self._get(&#39;state&#39;)
</code></pre>
<h1>Getting state info from nagios api</h1>
<p>r = JSONRestClient(&#39;<a href="http://remotehost:8080">http://remotehost:8080</a>&#39;)
print r.state()</p>
</article> <div class="comments-section" id="comments-section" data-astro-cid-4sn4zg3r> <div class="giscus" id="giscus-container" data-astro-cid-4sn4zg3r></div> </div> <footer class="post-footer" data-astro-cid-4sn4zg3r> <a href="/" class="back-link" data-astro-cid-4sn4zg3r>← Back to timeline</a> <a href="/Blog/Basic-JSON-Python-REST-Client/" target="_blank" rel="noopener" data-astro-cid-4sn4zg3r>Original post ↗</a> </footer> </main>  <script src="https://giscus.app/client.js" data-repo="chasemp/timeline" data-repo-id="R_kgDOQDOMbA" data-category="Ideas" data-category-id="DIC_kwDOQDOMbM4CxLZb" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="/giscus-custom.css" data-lang="en" crossorigin="anonymous" async>
    </script> <script>
      // Hide comments section if giscus fails to load after timeout
      window.addEventListener('load', () => {
        const container = document.getElementById('giscus-container');
        const commentsSection = document.getElementById('comments-section');
        
        // Set timeout to check if giscus loaded (10 seconds)
        setTimeout(() => {
          if (container && commentsSection) {
            // Check if giscus actually rendered content
            const hasContent = container.innerHTML.trim() !== '';
            
            if (!hasContent) {
              // Giscus failed to load - hide the comments section
              commentsSection.style.display = 'none';
            }
          }
        }, 10000);
        
      });
    </script>   </body> </html> 