import"./hoisted.BScVxmeO.js";const ae=document.getElementById("theme-toggle"),B=ae?.querySelector(".theme-icon"),F=document.documentElement;function fe(t,e,s=365){const n=new Date;n.setTime(n.getTime()+s*24*60*60*1e3),document.cookie=`${t}=${e};expires=${n.toUTCString()};path=/;domain=.523.life`}function ye(t){const e=t+"=",s=document.cookie.split(";");for(let n=0;n<s.length;n++){let o=s[n];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(e)===0)return o.substring(e.length,o.length)}return null}const ie=ye("theme")||"dark";F.setAttribute("data-theme",ie);B&&(B.textContent=ie==="dark"?"â˜€ï¸":"ðŸŒ™");ae?.addEventListener("click",()=>{const e=F.getAttribute("data-theme")==="dark"?"light":"dark";F.setAttribute("data-theme",e),fe("theme",e),B&&(B.textContent=e==="dark"?"â˜€ï¸":"ðŸŒ™");const s=document.querySelector("iframe.giscus-frame");s&&s.contentWindow?.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")});window.addEventListener("DOMContentLoaded",()=>{if(window.PagefindUI)new window.PagefindUI({element:"#search-container",showSubResults:!0,showImages:!1,excerptLength:15,translations:{placeholder:"Search timeline..."}});else{const t=document.getElementById("search-container");t&&(t.innerHTML='<div style="padding: 10px; color: var(--muted); font-size: 14px; text-align: center;">Search available in production build</div>')}});const E=new URLSearchParams(location.search),be=new Set((E.get("types")??"blog,saved,bluesky,pixelfed,hackernews,linkedin,release,wikipedia").split(",").filter(Boolean)),b=document.querySelectorAll('input[name="type"]');function H(t){return t.split(",").filter(Boolean)}function we(t){return H(t).some(s=>be.has(s))}b.forEach(t=>{t.checked=we(t.value),t.addEventListener("change",x)});function x(){const t=new Set;Array.from(b).filter(s=>s.checked).forEach(s=>{H(s.value).forEach(n=>t.add(n))});const e=Array.from(t);e.length===0?E.delete("types"):E.set("types",e.join(",")),history.replaceState({},"",E.toString()?`?${E.toString()}`:location.pathname),document.dispatchEvent(new CustomEvent("filters:changed",{detail:{types:e}}))}const d=new Set,m=document.getElementById("hashtag-dropdown-btn"),M=document.getElementById("hashtag-dropdown-menu"),Y=document.getElementById("selected-hashtag-count"),_=document.querySelectorAll('.hashtag-option input[type="checkbox"]');function ce(t){return{"#blog":["blog"],"#article":["saved"],"#bluesky":["bluesky","pixelfed","hackernews","linkedin"],"#pixelfed":["bluesky","pixelfed","hackernews","linkedin"],"#hackernews":["bluesky","pixelfed","hackernews","linkedin"],"#linkedin":["blog","saved","bluesky","pixelfed","hackernews","linkedin"],"#wikipedia":["wikipedia"],"#release":["release"]}[t]||[]}document.getElementById("select-all")?.addEventListener("click",()=>{b.forEach(t=>t.checked=!0),_.forEach(t=>t.checked=!1),d.clear(),q(),x()});document.getElementById("select-none")?.addEventListener("click",()=>{b.forEach(e=>e.checked=!1),_.forEach(e=>e.checked=!1),d.clear(),q();const t=document.querySelector(".pagefind-ui__search-input");t&&(t.value="",t.dispatchEvent(new Event("input",{bubbles:!0}))),x()});function q(){document.dispatchEvent(new CustomEvent("hashtag:changed",{detail:{hashtags:Array.from(d)}})),d.size>0?(Y.textContent=d.size.toString(),Y.removeAttribute("hidden")):Y.setAttribute("hidden","")}m?.addEventListener("click",t=>{t.stopPropagation(),m.getAttribute("aria-expanded")==="true"?(M?.setAttribute("hidden",""),m.setAttribute("aria-expanded","false")):(M?.removeAttribute("hidden"),m.setAttribute("aria-expanded","true"))});_.forEach(t=>{t.addEventListener("change",()=>{const e=t.dataset.hashtag;if(t.checked){d.add(e);const s=ce(e);if(s.length>0){let n=!1;b.forEach(o=>{H(o.value).some(i=>s.includes(i))&&!o.checked&&(o.checked=!0,n=!0)}),n&&x()}}else d.delete(e);q(),N()})});window.addEventListener("hashtag:click",t=>{const e=t.detail.tag;if(d.has(e))d.delete(e);else{d.add(e);const n=ce(e);if(n.length>0){let o=!1;b.forEach(a=>{H(a.value).some(l=>n.includes(l))&&!a.checked&&(a.checked=!0,o=!0)}),o&&x()}}const s=Array.from(_).find(n=>n.dataset.hashtag===e);s&&(s.checked=d.has(e)),q(),N(),d.has(e)&&(m?.classList.add("flash-notification"),setTimeout(()=>m?.classList.remove("flash-notification"),600))});function N(){document.querySelectorAll(".card-hashtag").forEach(t=>{const e=t.dataset.hashtag;e&&d.has(e)?t.classList.add("hashtag-selected"):t.classList.remove("hashtag-selected")})}N();document.addEventListener("click",t=>{!m?.contains(t.target)&&!M?.contains(t.target)&&(M?.setAttribute("hidden",""),m?.setAttribute("aria-expanded","false"))});const re=new URLSearchParams(location.search),te=(re.get("types")??"").split(",").filter(Boolean);let S=new Set;const ne=document.getElementById("empty-state"),se=document.querySelector(".list"),oe=document.getElementById("current-date"),ve=document.getElementById("reset-machine");oe&&(oe.textContent=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}));ve?.addEventListener("click",t=>{t.preventDefault(),window.location.href=window.location.pathname});function ke(t){const e=new Date(t),s=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");return`${s}/${n}/${o}`}function le(){const t=Array.from(document.querySelectorAll(".row:not(.today-marker)")).filter(n=>n.style.display!=="none"),e=document.getElementById("results-count"),s=document.getElementById("results-count-number");if(e&&s){const n=t.length;s.textContent=n.toString(),n>0?e.removeAttribute("hidden"):e.setAttribute("hidden","")}t.length===0?(ne?.removeAttribute("hidden"),se?.setAttribute("hidden","")):(ne?.setAttribute("hidden",""),se?.removeAttribute("hidden"))}function de(){const e=Array.from(document.querySelectorAll('input[name="type"]')).map(n=>n.value).flatMap(n=>n.split(",").filter(Boolean)),s=new Set(te.length?te:e);document.querySelectorAll(".row").forEach(n=>{const o=n.dataset.type,a=n.dataset.hashtags?.split(",").filter(Boolean)||[],i=s.size===0?!1:s.has(o),l=S.size===0||a.some(T=>S.has(T));n.style.display=i&&l?"":"none"}),le()}de();document.addEventListener("filters:changed",t=>{const e=new Set(t.detail.types.length?t.detail.types:[]);document.querySelectorAll(".row").forEach(s=>{const n=s.dataset.type,o=s.dataset.hashtags?.split(",").filter(Boolean)||[],a=e.size===0?!1:e.has(n),i=S.size===0||o.some(l=>S.has(l));s.style.display=a&&i?"":"none"}),le()});document.addEventListener("hashtag:changed",t=>{S=new Set(t.detail.hashtags),de()});const u=document.getElementById("detail-panel"),g=document.getElementById("panel-content"),ue=document.getElementById("panel-title-text"),O=document.getElementById("panel-source-wrapper"),Ee=document.getElementById("panel-source"),L=document.getElementById("panel-close-left"),r=document.getElementById("panel-copy-link"),j=document.getElementById("panel-backdrop"),z=document.getElementById("swipe-indicator"),f=()=>window.innerWidth<=980;let A=g.innerHTML;(!A||A.trim()==="")&&(console.warn("Panel intro content is empty, attempting to restore..."),setTimeout(()=>{A=g.innerHTML},100));function me(t=!0){t&&f()?document.body.style.overflow="hidden":document.body.style.overflow=""}async function Ae(t){try{const s=await(await fetch(t)).text(),o=new DOMParser().parseFromString(s,"text/html"),a=o.querySelector("article")||o.querySelector("main")||o.querySelector(".content");return a?a.innerHTML:"<p>Unable to load content</p>"}catch{return"<p>Error loading content</p>"}}async function R(t){const e=window.__TIMELINE__.find(h=>h.id===t);if(!e)return;f()?(j.removeAttribute("hidden"),u.classList.add("mobile-detail-open"),L.removeAttribute("hidden"),r.removeAttribute("hidden"),z.removeAttribute("hidden"),me(!0)):(L.removeAttribute("hidden"),r.removeAttribute("hidden"),z.setAttribute("hidden",""));const n={saved:"Article Read",linkedin:"LinkedIn",bluesky:"Posts",pixelfed:"Photo",hackernews:"Comment",wikipedia:"Contributions",contributions:"Contributions"}[e.type]||e.type.toUpperCase(),o=ke(e.timestamp);ue.textContent=`${n} Â· ${o}`;const a=e.canonical_url&&!e.canonical_url.startsWith("/")?e.canonical_url:e.url&&!e.url.startsWith("/")?e.url:null;a?(Ee.href=a,O.removeAttribute("hidden")):O.setAttribute("hidden",""),g.innerHTML="<p>Loading...</p>";let i="";if(e.type==="blog"){const h=`/blog/${e.id.replace("blog:","")}`,w=await Ae(h);i=`<h3 class="detail-title">${e.title||""}</h3>
        <div class="detail-content">${w}</div>`}else{let h="";if(e.type==="saved"||e.type==="linkedin"){const c=[];e.metadata?.site_name&&c.push(`ðŸ“° ${e.metadata.site_name}`),e.author&&c.push(`âœï¸ ${e.author}`),e.metadata?.reading_time&&c.push(`â±ï¸ ${e.metadata.reading_time}`),c.length>0&&(h=`<div class="detail-metadata">${c.join(" â€¢ ")}</div>`)}let w="";const v=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]+)/i;let p=null;if(e.url&&(e.url.includes("youtube.com/watch")||e.url.includes("youtu.be/"))){const c=e.url.match(v);c&&(p=c[1])}if(!p&&e.summary){const c=e.summary.match(v);c&&(p=c[1])}if(!p&&e.content_html){const c=e.content_html.match(v);c&&(p=c[1])}p&&(w=`<div class="video-embed"><iframe width="560" height="315" src="https://www.youtube.com/embed/${p}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>`);let Z="";e.media?.images&&e.media.images.length>0&&(Z=`<div class="detail-media">${e.media.images.map(($,k)=>{const I=Array.isArray(e.media.alt)?e.media.alt[k]||e.media.alt[0]:e.media.alt||"";return`<img src="${$}" alt="${I||"Image"}" loading="lazy">`}).join("")}</div>`);let X="",J="";if(e.content_html){const $=new DOMParser().parseFromString(e.content_html,"text/html"),k=$.querySelector(".notes");k&&k.textContent?.trim()&&(X=`<h4>Notes</h4><div class="notes-content">${k.innerHTML}</div>`);const I=$.querySelector(".highlights");if(I){const ee=Array.from(I.querySelectorAll("li")).map(U=>U.innerHTML);ee.length>0&&(J=`<h4>Highlights</h4><ul class="highlights-list">${ee.map(U=>`<li>${U}</li>`).join("")}</ul>`)}}let K="";e.type==="hackernews"&&e.metadata?.comment_url&&(K=`<div class="comment-direct-link"><a href="${e.metadata.comment_url}" target="_blank" rel="noopener">Direct link to comment â†—</a></div>`);const ge=e.summary?`<p>${e.summary}</p>`:"";i=`${e.title?`<h3 class="detail-title">${e.title}</h3>`:""}
        ${w}
        ${Z}
        <div class="detail-content">${ge}${K}${h}${X}${J}</div>`}const l=Le(e);l||(i+=`
        <div class="panel-comments">
          <div class="giscus" id="giscus-${t}"></div>
        </div>
      `),g.innerHTML=i,l||Se(t);const T=`node-${t.replace(/[^a-zA-Z0-9-]/g,"-")}`,C=document.getElementById(T);C&&setTimeout(()=>{const v=C.getBoundingClientRect().top+window.pageYOffset-150;window.scrollTo({top:v,behavior:"smooth"}),C.classList.add("node-highlighted"),setTimeout(()=>{C.classList.remove("node-highlighted")},2e3)},300);const G=new URLSearchParams(location.search),Q=`#${T}`,pe=G.toString()?`?${G.toString()}${Q}`:Q;history.replaceState({},"",pe)}function Se(t){const e=document.querySelector('script[src="https://giscus.app/client.js"]');e&&e.remove();const s=document.getElementById(`giscus-${t}`);if(!s)return;const n=document.createElement("script");n.src="https://giscus.app/client.js",n.setAttribute("data-repo","chasemp/timeline"),n.setAttribute("data-repo-id","R_kgDOQDOMbA"),n.setAttribute("data-category","Ideas"),n.setAttribute("data-category-id","DIC_kwDOQDOMbM4CxLZb"),n.setAttribute("data-mapping","specific"),n.setAttribute("data-term",t),n.setAttribute("data-strict","0"),n.setAttribute("data-reactions-enabled","1"),n.setAttribute("data-emit-metadata","0"),n.setAttribute("data-input-position","bottom");const o=document.documentElement.getAttribute("data-theme")||"dark";n.setAttribute("data-theme",o==="light"?"light":"dark"),n.setAttribute("data-lang","en"),n.setAttribute("crossorigin","anonymous"),n.async=!0,n.onerror=()=>{const a=s.closest(".panel-comments");a&&(a.style.display="none")},document.body.appendChild(n),setTimeout(()=>{if(s.innerHTML.trim()===""){const a=s.closest(".panel-comments");a&&(a.style.display="none")}},1e4)}function P(){f()&&(j.setAttribute("hidden",""),u.classList.remove("mobile-detail-open"),z.setAttribute("hidden",""),L.setAttribute("hidden",""),r.setAttribute("hidden",""),me(!1));const t=document.querySelector('script[src="https://giscus.app/client.js"]');t&&t.remove(),g.querySelectorAll(".giscus").forEach(o=>o.innerHTML=""),ue.textContent="About",O.setAttribute("hidden",""),g.innerHTML=A,L.setAttribute("hidden",""),r.setAttribute("hidden","");const s=new URLSearchParams(location.search),n=s.toString()?`?${s.toString()}`:location.pathname;history.replaceState({},"",n)}r.addEventListener("click",async()=>{const t=window.location.href;try{await navigator.clipboard.writeText(t);const e=r.textContent;r.textContent="âœ“",r.classList.add("copied"),setTimeout(()=>{r.textContent=e,r.classList.remove("copied")},2e3)}catch{const s=document.createElement("textarea");s.value=t,s.style.position="fixed",s.style.opacity="0",document.body.appendChild(s),s.select();try{document.execCommand("copy");const n=r.textContent;r.textContent="âœ“",r.classList.add("copied"),setTimeout(()=>{r.textContent=n,r.classList.remove("copied")},2e3)}catch(n){console.error("Failed to copy link:",n)}document.body.removeChild(s)}});function Le(t){const e=window.__CONFIG__;if(e?.commentsEnabled===!1||e?.disableCommentsForTypes?.includes(t.type))return!0;const n=(t.hashtags||[]).some(i=>i.toLowerCase()==="#nocomments"||i.toLowerCase()==="#nc"),a=(t.tags||[]).some(i=>{const l=i.toLowerCase().replace(/\s+/g,"_");return l==="nocomments"||l==="nc"});return n||a}L.addEventListener("click",P);j.addEventListener("click",P);document.addEventListener("keydown",t=>{t.key==="Escape"&&(f()?u.classList.contains("mobile-detail-open"):g.innerHTML!==A)&&P()});let W=0,V=0,D=!1;u.addEventListener("touchstart",t=>{!f()||!u.classList.contains("mobile-detail-open")||(W=t.touches[0].clientY,V=Date.now(),D=!1)},{passive:!0});u.addEventListener("touchmove",t=>{if(!f()||!u.classList.contains("mobile-detail-open"))return;const s=t.touches[0].clientY-W,n=Date.now()-V;if(s>50&&n<500){D=!0;const o=Math.min(s*.3,100);u.style.transform=`translateY(${o}px)`}},{passive:!0});u.addEventListener("touchend",t=>{if(!f()||!u.classList.contains("mobile-detail-open"))return;const s=t.changedTouches[0].clientY-W,n=Date.now()-V;u.style.transform="",D&&s>100&&n<500&&P(),D=!1},{passive:!0});document.querySelectorAll(".card").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault(),R(t.dataset.id)})});const y=document.getElementById("tooltip"),xe=y.querySelector(".tooltip-title"),Te=y.querySelector(".tooltip-meta");function Ce(t){const s=Math.min(window.innerHeight-80,Math.max(0,t.top+window.scrollY+10)),n=Math.min(window.innerWidth-380,Math.max(0,t.left+window.scrollX+10));y.style.top=`${s}px`,y.style.left=`${n}px`}function $e(t){const e=t.dataset.timestamp,s=t.dataset.dotType,n=new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),o={blog:"ðŸ“",saved:"ðŸ”–",bluesky:"ðŸ¦‹",pixelfed:"ðŸ“·",hackernews:"ðŸ’¬",posts:"ðŸ¦‹",release:"ðŸ·ï¸",wikipedia:"ðŸŒ",contributions:"ðŸŒ",linkedin:"ðŸ’¼"},a={saved:"Article Read",bluesky:"Posts",pixelfed:"Photo",hackernews:"Comment",posts:"Posts",wikipedia:"Contributions",contributions:"Contributions",linkedin:"LinkedIn"},i=o[s]||"",l=a[s]||s.toUpperCase();xe.textContent=`${i} ${l}`,Te.textContent=n,Ce(t.getBoundingClientRect()),y.removeAttribute("hidden")}function Ie(){y.setAttribute("hidden","")}document.querySelectorAll(".dot").forEach(t=>{const e=t;e.addEventListener("mouseenter",()=>$e(e)),e.addEventListener("mouseleave",Ie)});function he(){const t=location.hash;if(t&&t.startsWith("#node-")){const s=document.querySelector(t);if(s){const n=s.dataset.id;if(n){setTimeout(()=>{R(n)},100);return}}}const e=re.get("id");e&&setTimeout(()=>{R(e)},100)}window.addEventListener("hashchange",he);he();
