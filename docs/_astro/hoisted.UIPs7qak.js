import"./ViewTransitions.astro_astro_type_script_index_0_lang.BScVxmeO.js";const ce=document.getElementById("theme-toggle"),B=ce?.querySelector(".theme-icon"),j=document.documentElement;function be(t,e,a=365){const n=new Date;n.setTime(n.getTime()+a*24*60*60*1e3),document.cookie=`${t}=${e};expires=${n.toUTCString()};path=/;domain=.523.life`}function we(t){const e=t+"=",a=document.cookie.split(";");for(let n=0;n<a.length;n++){let s=a[n];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(e)===0)return s.substring(e.length,s.length)}return null}const re=we("theme")||"dark";j.setAttribute("data-theme",re);B&&(B.textContent=re==="dark"?"â˜€ï¸":"ðŸŒ™");ce?.addEventListener("click",()=>{const e=j.getAttribute("data-theme")==="dark"?"light":"dark";j.setAttribute("data-theme",e),be("theme",e),B&&(B.textContent=e==="dark"?"â˜€ï¸":"ðŸŒ™");const a=document.querySelector("iframe.giscus-frame");a&&a.contentWindow?.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")});window.addEventListener("DOMContentLoaded",()=>{if(window.PagefindUI)new window.PagefindUI({element:"#search-container",showSubResults:!0,showImages:!1,excerptLength:15,translations:{placeholder:"Search timeline..."}});else{const t=document.getElementById("search-container");t&&(t.innerHTML='<div style="padding: 10px; color: var(--muted); font-size: 14px; text-align: center;">Search available in production build</div>')}});const S=new URLSearchParams(location.search),ve=new Set((S.get("types")??"blog,saved,bluesky,pixelfed,hackernews,linkedin,release,wikipedia").split(",").filter(Boolean)),k=document.querySelectorAll('input[name="type"]');function _(t){return t.split(",").filter(Boolean)}function ke(t){return _(t).some(a=>ve.has(a))}k.forEach(t=>{t.checked=ke(t.value),t.addEventListener("change",C)});function C(){const t=new Set;Array.from(k).filter(a=>a.checked).forEach(a=>{_(a.value).forEach(n=>t.add(n))});const e=Array.from(t);e.length===0?S.delete("types"):S.set("types",e.join(",")),history.replaceState({},"",S.toString()?`?${S.toString()}`:location.pathname),document.dispatchEvent(new CustomEvent("filters:changed",{detail:{types:e}}))}const d=new Set,g=document.getElementById("hashtag-dropdown-btn"),D=document.getElementById("hashtag-dropdown-menu"),O=document.getElementById("selected-hashtag-count"),q=document.querySelectorAll('.hashtag-option input[type="checkbox"]');function le(t){return{"#blog":["blog"],"#article":["saved","bluesky","pixelfed","hackernews","linkedin","primer"],"#bluesky":["saved","bluesky","pixelfed","hackernews","linkedin","primer"],"#pixelfed":["saved","bluesky","pixelfed","hackernews","linkedin","primer"],"#hackernews":["saved","bluesky","pixelfed","hackernews","linkedin","primer"],"#linkedin":["blog","saved","bluesky","pixelfed","hackernews","linkedin","primer"],"#wikipedia":["wikipedia"],"#release":["wikipedia","release"]}[t]||[]}document.getElementById("select-all")?.addEventListener("click",()=>{k.forEach(t=>t.checked=!0),q.forEach(t=>t.checked=!1),d.clear(),P(),C()});document.getElementById("select-none")?.addEventListener("click",()=>{k.forEach(e=>e.checked=!1),q.forEach(e=>e.checked=!1),d.clear(),P();const t=document.querySelector(".pagefind-ui__search-input");t&&(t.value="",t.dispatchEvent(new Event("input",{bubbles:!0}))),C()});function P(){document.dispatchEvent(new CustomEvent("hashtag:changed",{detail:{hashtags:Array.from(d)}})),d.size>0?(O.textContent=d.size.toString(),O.removeAttribute("hidden")):O.setAttribute("hidden","")}g?.addEventListener("click",t=>{t.stopPropagation(),g.getAttribute("aria-expanded")==="true"?(D?.setAttribute("hidden",""),g.setAttribute("aria-expanded","false")):(D?.removeAttribute("hidden"),g.setAttribute("aria-expanded","true"))});q.forEach(t=>{t.addEventListener("change",()=>{const e=t.dataset.hashtag;if(t.checked){d.add(e);const a=le(e);if(a.length>0){let n=!1;k.forEach(s=>{_(s.value).some(o=>a.includes(o))&&!s.checked&&(s.checked=!0,n=!0)}),n&&C()}}else d.delete(e);P(),W()})});window.addEventListener("hashtag:click",t=>{const e=t.detail.tag;if(d.has(e))d.delete(e);else{d.add(e);const n=le(e);if(n.length>0){let s=!1;k.forEach(i=>{_(i.value).some(l=>n.includes(l))&&!i.checked&&(i.checked=!0,s=!0)}),s&&C()}}const a=Array.from(q).find(n=>n.dataset.hashtag===e);a&&(a.checked=d.has(e)),P(),W(),d.has(e)&&(g?.classList.add("flash-notification"),setTimeout(()=>g?.classList.remove("flash-notification"),600))});function W(){document.querySelectorAll(".card-hashtag").forEach(t=>{const e=t.dataset.hashtag;e&&d.has(e)?t.classList.add("hashtag-selected"):t.classList.remove("hashtag-selected")})}W();document.addEventListener("click",t=>{!g?.contains(t.target)&&!D?.contains(t.target)&&(D?.setAttribute("hidden",""),g?.setAttribute("aria-expanded","false"))});const de=new URLSearchParams(location.search),ae=(de.get("types")??"").split(",").filter(Boolean);let T=new Set;const se=document.getElementById("empty-state"),ie=document.querySelector(".list"),oe=document.getElementById("current-date"),Ee=document.getElementById("reset-machine");oe&&(oe.textContent=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}));Ee?.addEventListener("click",t=>{t.preventDefault(),window.location.href=window.location.pathname});function Ae(t){const e=new Date(t),a=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${a}/${n}/${s}`}function he(){const t=Array.from(document.querySelectorAll(".row:not(.today-marker)")).filter(n=>n.style.display!=="none"),e=document.getElementById("results-count"),a=document.getElementById("results-count-number");if(e&&a){const n=t.length;a.textContent=n.toString(),e.removeAttribute("hidden")}t.length===0?(se?.removeAttribute("hidden"),ie?.setAttribute("hidden","")):(se?.setAttribute("hidden",""),ie?.removeAttribute("hidden"))}function me(){const e=Array.from(document.querySelectorAll('input[name="type"]')).map(n=>n.value).flatMap(n=>n.split(",").filter(Boolean)),a=new Set(ae.length?ae:e);document.querySelectorAll(".row").forEach(n=>{const s=n.dataset.type,i=n.dataset.hashtags?.split(",").filter(Boolean)||[],o=a.size===0?!1:a.has(s),l=T.size===0||i.some($=>T.has($));n.style.display=o&&l?"":"none"}),he()}me();document.addEventListener("filters:changed",t=>{const e=new Set(t.detail.types.length?t.detail.types:[]);document.querySelectorAll(".row").forEach(a=>{const n=a.dataset.type,s=a.dataset.hashtags?.split(",").filter(Boolean)||[],i=e.size===0?!1:e.has(n),o=T.size===0||s.some(l=>T.has(l));a.style.display=i&&o?"":"none"}),he()});document.addEventListener("hashtag:changed",t=>{T=new Set(t.detail.hashtags),me()});const m=document.getElementById("detail-panel"),f=document.getElementById("panel-content"),ue=document.getElementById("panel-title-text"),z=document.getElementById("panel-source-wrapper"),Se=document.getElementById("panel-source"),x=document.getElementById("panel-close-left"),r=document.getElementById("panel-copy-link"),V=document.getElementById("panel-backdrop"),N=document.getElementById("swipe-indicator"),w=()=>window.innerWidth<=980;let L=f.innerHTML;(!L||L.trim()==="")&&(console.warn("Panel intro content is empty, attempting to restore..."),setTimeout(()=>{L=f.innerHTML},100));function pe(t=!0){t&&w()?document.body.style.overflow="hidden":document.body.style.overflow=""}async function Le(t){try{const a=await(await fetch(t)).text(),s=new DOMParser().parseFromString(a,"text/html"),i=s.querySelector("article")||s.querySelector("main")||s.querySelector(".content");return i?i.innerHTML:"<p>Unable to load content</p>"}catch{return"<p>Error loading content</p>"}}async function R(t){const e=window.__TIMELINE__.find(u=>u.id===t);if(!e)return;w()?(V.removeAttribute("hidden"),m.classList.add("mobile-detail-open"),x.removeAttribute("hidden"),r.removeAttribute("hidden"),N.removeAttribute("hidden"),pe(!0)):(x.removeAttribute("hidden"),r.removeAttribute("hidden"),N.setAttribute("hidden",""));const n={saved:"Article Shared",primer:"AI Topic Primer",linkedin:"LinkedIn",bluesky:"Posts",pixelfed:"Photo",hackernews:"Comment",wikipedia:"Contributions",contributions:"Contributions"}[e.type]||e.type.toUpperCase(),s=Ae(e.timestamp);ue.textContent=`${n} Â· ${s}`;let i=null;e.type==="blog"?i=`/blog/${e.id.replace("blog:","")}`:e.type==="primer"?i=`/primer/${e.id.replace("readwise:","")}`:i=e.canonical_url&&!e.canonical_url.startsWith("/")?e.canonical_url:e.url&&!e.url.startsWith("/")?e.url:null,i?(Se.href=i,z.removeAttribute("hidden")):z.setAttribute("hidden",""),f.innerHTML="<p>Loading...</p>";let o="";if(e.type==="blog"){const u=`/blog/${e.id.replace("blog:","")}`,y=await Le(u);let h="";e.hashtags&&e.hashtags.length>0&&(h=`<div class="detail-hashtags">${e.hashtags.map(E=>`<span class="detail-hashtag" data-hashtag="${E}" role="button" tabindex="0">${E}</span>`).join("")}</div>`),o=`<h3 class="detail-title">${e.title||""}</h3>
        <div class="detail-content">${y}</div>
        ${h}`}else{let u="";if(e.type==="saved"||e.type==="linkedin"||e.type==="primer"){const c=[];e.metadata?.site_name&&c.push(`ðŸ“° ${e.metadata.site_name}`),e.author&&c.push(`âœï¸ ${e.author}`),e.metadata?.reading_time&&c.push(`â±ï¸ ${e.metadata.reading_time}`),c.length>0&&(u=`<div class="detail-metadata">${c.join(" â€¢ ")}</div>`)}let y="";const h=/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]+)/i;let p=null;if(e.url&&(e.url.includes("youtube.com/watch")||e.url.includes("youtu.be/"))){const c=e.url.match(h);c&&(p=c[1])}if(!p&&e.summary){const c=e.summary.match(h);c&&(p=c[1])}if(!p&&e.content_html){const c=e.content_html.match(h);c&&(p=c[1])}p&&(y=`<div class="video-embed"><iframe width="560" height="315" src="https://www.youtube.com/embed/${p}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>`);let E="";e.media?.images&&e.media.images.length>0&&(E=`<div class="detail-media">${e.media.images.map((b,A)=>{const M=Array.isArray(e.media.alt)?e.media.alt[A]||e.media.alt[0]:e.media.alt||"";return`<img src="${b}" alt="${M||"Image"}" loading="lazy">`}).join("")}</div>`);let J="",K="";if(e.content_html){const b=new DOMParser().parseFromString(e.content_html,"text/html"),A=b.querySelector(".notes");A&&A.textContent?.trim()&&(J=`<h4>Notes</h4><div class="notes-content">${A.innerHTML}</div>`);const M=b.querySelector(".highlights");if(M){const ne=Array.from(M.querySelectorAll("li")).map(F=>F.innerHTML);ne.length>0&&(K=`<h4>Highlights</h4><ul class="highlights-list">${ne.map(F=>`<li>${F}</li>`).join("")}</ul>`)}}let ee="";e.type==="hackernews"&&e.metadata?.comment_url&&(ee=`<div class="comment-direct-link"><a href="${e.metadata.comment_url}" target="_blank" rel="noopener">Direct link to comment â†—</a></div>`);const ye=e.summary?`<p>${e.summary}</p>`:"";let Y="";e.title&&(e.type==="hackernews"&&(e.url||e.metadata?.story_url)?Y=`<h3 class="detail-title"><a href="${e.metadata?.story_url||e.url}" target="_blank" rel="noopener" class="title-link">${e.title} â†—</a></h3>`:Y=`<h3 class="detail-title">${e.title}</h3>`);let te="";e.hashtags&&e.hashtags.length>0&&(te=`<div class="detail-hashtags">${e.hashtags.map(b=>`<span class="detail-hashtag" data-hashtag="${b}" role="button" tabindex="0">${b}</span>`).join("")}</div>`),o=`${Y}
        ${y}
        ${E}
        <div class="detail-content">${ye}${ee}${u}${J}${K}</div>
        ${te}`}const l=xe(e);l||(o+=`
        <div class="panel-comments">
          <div class="giscus" id="giscus-${t}"></div>
        </div>
      `),f.innerHTML=o,f.querySelectorAll(".detail-hashtag").forEach(u=>{u.addEventListener("click",y=>{y.stopPropagation();const h=u.dataset.hashtag;h&&window.dispatchEvent(new CustomEvent("hashtag:click",{detail:{tag:h}}))})}),l||Te(t);const $=`node-${t.replace(/[^a-zA-Z0-9-]/g,"-")}`,I=document.getElementById($);I&&setTimeout(()=>{const h=I.getBoundingClientRect().top+window.pageYOffset-150;window.scrollTo({top:h,behavior:"smooth"}),I.classList.add("node-highlighted"),setTimeout(()=>{I.classList.remove("node-highlighted")},2e3)},300);const Z=new URLSearchParams(location.search),X=`#${$}`,fe=Z.toString()?`?${Z.toString()}${X}`:X;history.replaceState({},"",fe)}function Te(t){const e=document.querySelector('script[src="https://giscus.app/client.js"]');e&&e.remove();const a=document.getElementById(`giscus-${t}`);if(!a)return;const n=document.createElement("script");n.src="https://giscus.app/client.js",n.setAttribute("data-repo","chasemp/timeline"),n.setAttribute("data-repo-id","R_kgDOQDOMbA"),n.setAttribute("data-category","Ideas"),n.setAttribute("data-category-id","DIC_kwDOQDOMbM4CxLZb"),n.setAttribute("data-mapping","specific"),n.setAttribute("data-term",t),n.setAttribute("data-strict","0"),n.setAttribute("data-reactions-enabled","1"),n.setAttribute("data-emit-metadata","0"),n.setAttribute("data-input-position","bottom");const s=document.documentElement.getAttribute("data-theme")||"dark";n.setAttribute("data-theme",s==="light"?"light":"dark"),n.setAttribute("data-lang","en"),n.setAttribute("crossorigin","anonymous"),n.async=!0,n.onerror=()=>{const i=a.closest(".panel-comments");i&&(i.style.display="none")},document.body.appendChild(n),setTimeout(()=>{if(a.innerHTML.trim()===""){const i=a.closest(".panel-comments");i&&(i.style.display="none")}},1e4)}function U(){w()&&(V.setAttribute("hidden",""),m.classList.remove("mobile-detail-open"),N.setAttribute("hidden",""),x.setAttribute("hidden",""),r.setAttribute("hidden",""),pe(!1));const t=document.querySelector('script[src="https://giscus.app/client.js"]');t&&t.remove(),f.querySelectorAll(".giscus").forEach(s=>s.innerHTML=""),ue.textContent="About",z.setAttribute("hidden",""),f.innerHTML=L,x.setAttribute("hidden",""),r.setAttribute("hidden","");const a=new URLSearchParams(location.search),n=a.toString()?`?${a.toString()}`:location.pathname;history.replaceState({},"",n)}r.addEventListener("click",async()=>{const t=window.location.href;try{await navigator.clipboard.writeText(t);const e=r.textContent;r.textContent="âœ“",r.classList.add("copied"),setTimeout(()=>{r.textContent=e,r.classList.remove("copied")},2e3)}catch{const a=document.createElement("textarea");a.value=t,a.style.position="fixed",a.style.opacity="0",document.body.appendChild(a),a.select();try{document.execCommand("copy");const n=r.textContent;r.textContent="âœ“",r.classList.add("copied"),setTimeout(()=>{r.textContent=n,r.classList.remove("copied")},2e3)}catch(n){console.error("Failed to copy link:",n)}document.body.removeChild(a)}});function xe(t){const e=window.__CONFIG__;if(e?.commentsEnabled===!1||e?.disableCommentsForTypes?.includes(t.type))return!0;const n=(t.hashtags||[]).some(o=>o.toLowerCase()==="#nocomments"||o.toLowerCase()==="#nc"),i=(t.tags||[]).some(o=>{const l=o.toLowerCase().replace(/\s+/g,"_");return l==="nocomments"||l==="nc"});return n||i}x.addEventListener("click",U);V.addEventListener("click",U);document.addEventListener("keydown",t=>{t.key==="Escape"&&(w()?m.classList.contains("mobile-detail-open"):f.innerHTML!==L)&&U()});let G=0,Q=0,H=!1;m.addEventListener("touchstart",t=>{!w()||!m.classList.contains("mobile-detail-open")||(G=t.touches[0].clientY,Q=Date.now(),H=!1)},{passive:!0});m.addEventListener("touchmove",t=>{if(!w()||!m.classList.contains("mobile-detail-open"))return;const a=t.touches[0].clientY-G,n=Date.now()-Q;if(a>50&&n<500){H=!0;const s=Math.min(a*.3,100);m.style.transform=`translateY(${s}px)`}},{passive:!0});m.addEventListener("touchend",t=>{if(!w()||!m.classList.contains("mobile-detail-open"))return;const a=t.changedTouches[0].clientY-G,n=Date.now()-Q;m.style.transform="",H&&a>100&&n<500&&U(),H=!1},{passive:!0});document.querySelectorAll(".card").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault(),R(t.dataset.id)})});const v=document.getElementById("tooltip"),Ce=v.querySelector(".tooltip-title"),$e=v.querySelector(".tooltip-meta");function Ie(t){const a=Math.min(window.innerHeight-80,Math.max(0,t.top+window.scrollY+10)),n=Math.min(window.innerWidth-380,Math.max(0,t.left+window.scrollX+10));v.style.top=`${a}px`,v.style.left=`${n}px`}function Me(t){const e=t.dataset.timestamp,a=t.dataset.cardType,n=new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),s={blog:"ðŸ“",saved:"ðŸ”–",primer:"ðŸ§ ",bluesky:"ðŸ¦‹",pixelfed:"ðŸ“·",hackernews:"ðŸ’¬",posts:"ðŸ¦‹",release:"ðŸ·ï¸",wikipedia:"ðŸŒ",contributions:"ðŸŒ",linkedin:"ðŸ’¼"},i={saved:"Article Shared",primer:"AI Topic Primer",bluesky:"Posts",pixelfed:"Photo",hackernews:"Comment",posts:"Posts",wikipedia:"Contributions",contributions:"Contributions",linkedin:"LinkedIn"},o=s[a]||"",l=i[a]||a.toUpperCase();Ce.textContent=`${o} ${l}`,$e.textContent=n,Ie(t.getBoundingClientRect()),v.removeAttribute("hidden")}function Be(){v.setAttribute("hidden","")}document.querySelectorAll(".card-top-bar").forEach(t=>{const e=t;e.addEventListener("mouseenter",()=>Me(e)),e.addEventListener("mouseleave",Be)});function ge(){const t=location.hash;if(t&&t.startsWith("#node-")){const a=document.querySelector(t);if(a){const n=a.dataset.id;if(n){setTimeout(()=>{R(n)},100);return}}}const e=de.get("id");e&&setTimeout(()=>{R(e)},100)}window.addEventListener("hashchange",ge);ge();
